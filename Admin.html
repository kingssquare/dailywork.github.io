<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css"> 
    <style>
        /* Extra styles specific to the dashboard table */
        .glass-card { max-width: 900px; } /* Wider card for table */
        .table-glass {
            color: #fff;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        .table-glass th { background: rgba(0, 0, 0, 0.2); color: #fff; border: none; }
        .table-glass td { border-bottom: 1px solid rgba(255, 255, 255, 0.1); vertical-align: middle; }
        .badge-in { background-color: #00b894; color: white; }
        .badge-out { background-color: #ff7675; color: white; }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .admin-user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-logout {
            background-color: #ff6b6b;
            border: none;
            transition: var(--transition);
        }
        
        .btn-logout:hover {
            background-color: #ff5252;
        }
    </style>
</head>
<body>

<div class="background-overlay"></div>

<div class="container d-flex flex-column align-items-center justify-content-center min-vh-100 py-5">
    
    <div class="glass-card p-4">
        <div class="admin-header">
            <div>
                <h3 class="fw-bold text-white m-0">Teacher Records</h3>
                <small class="text-white-50">Real-time data from GitHub</small>
            </div>
            <div class="d-flex gap-2 align-items-center">
                <div class="admin-user-info text-white-50 small">
                    <i class="bi bi-person-circle"></i>
                    <span id="userDisplay">Admin</span>
                </div>
                <button onclick="loadData()" class="btn btn-sm btn-light text-primary fw-bold" title="Refresh data">
                    <i class="bi bi-arrow-clockwise"></i> Refresh
                </button>
                <button onclick="logout()" class="btn btn-sm btn-logout text-white fw-bold" title="Logout">
                    <i class="bi bi-box-arrow-right"></i> Logout
                </button>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <input type="text" id="searchInput" class="form-control form-control-sm" placeholder="Search by name or school..." onkeyup="filterTable()">
            </div>
            <div class="col-md-6 text-end">
                <button onclick="downloadCSV()" class="btn btn-sm btn-outline-light">
                    <i class="bi bi-download"></i> Export CSV
                </button>
            </div>
        </div>

        <div class="table-responsive">
            <table class="table table-glass table-hover mb-0">
                <thead>
                    <tr>
                        <th>Time</th>
                        <th>ID</th>
                        <th>Name</th>
                        <th>School</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <tr>
                        <td colspan="5" class="text-center text-white-50 py-4">Loading data...</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="mt-3 text-center">
            <a href="index.html" class="text-white-50 text-decoration-none small">&larr; Back to Form</a>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="login.js"></script>
<script src="admin.js"></script>
</body>
</html>